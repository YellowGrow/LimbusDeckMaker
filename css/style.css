/* =========================================================
   Root / Base
========================================================= */
:root {
    --primary-color:#007bff;
    --dark-bg:#404040;
    --light-bg:#f0f2f5;
    --border-color:#ccc;
}
body {
    font-family:sans-serif;
    margin:0;
    background-color:var(--light-bg);
    display:flex;
    height:100vh;
    color:#333;
    overflow:hidden;
}
.container {
    display:flex;
    width:100%;
    max-width:1600px;
    margin:auto;
    background:#fff;
    box-shadow:0 0 15px rgba(0,0,0,.1);
    border-radius:8px;
    overflow:hidden;
    height:95vh;
}

/* Sidebar */
.sidebar { width:220px; background-color:var(--dark-bg); color:#fff; padding:15px; display:flex; flex-direction:column; flex-shrink:0; }
.deck-list-header { display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #666; padding-bottom:10px; margin-bottom:15px; }
.deck-list-header h2 { margin:0; font-size:1.2em; }
.header-actions { display:flex; gap:8px; }
.header-actions button { background:none; border:none; color:#ddd; font-size:1.6em; cursor:pointer; padding:0 4px; transition:color .2s; }
.header-actions button:hover { color:#fff; }
#deck-list-wrapper { flex-grow:1; overflow-y:auto; padding-right:5px; display:flex; flex-direction:column; }
#add-deck-btn { background-color:#5a5a5a; color:#fff; border:none; padding:10px; border-radius:5px; cursor:pointer; font-size:.9em; text-align:center; transition:background-color .2s; margin-top:10px; width:100%; flex-shrink:0; }
#add-deck-btn:hover { background-color:#6a6a6a; }
.deck-item { display:flex; justify-content:space-between; align-items:center; padding:12px 10px; cursor:grab; border-radius:5px; margin-bottom:5px; transition:background-color .2s; border:1px solid transparent; border-bottom:1px solid #555; }
.deck-item.dragging { opacity:.5; background:#555; }
.deck-item.drag-over { border-top:2px solid var(--primary-color); }
.deck-item-name { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; pointer-events:none; }
.deck-item.active { background-color:var(--primary-color); }
.delete-deck-btn { background:none; border:none; color:#ffcccc; font-size:1.2em; cursor:pointer; margin-left:10px; }

/* Main layout / header */
.main-content { flex-grow:1; padding:20px; display:flex; flex-direction:column; }
.deck-header { display:flex; justify-content:flex-start; align-items:flex-start; margin-bottom:20px; gap:16px; flex-wrap:wrap; }
#deck-name-input { flex:1 1 260px; padding:10px; font-size:1.5em; border:1px solid var(--border-color); border-radius:5px; min-width:220px; }

/* Mid icon bar */
.mid-icon-bar { display:flex; gap:10px; padding-top:4px; }
.mid-icon-bar button { background:#f4f4f4; border:1px solid #d0d0d0; color:#555; font-size:1.3em; cursor:pointer; width:42px; height:42px; display:flex; align-items:center; justify-content:center; border-radius:8px; transition:.15s background,.15s color,.15s border-color; }
.mid-icon-bar button:hover { background:#e9f2ff; color:#000; border-color:var(--primary-color); }
.mid-icon-bar button:active { transform:translateY(1px); }

/* Filter bar */
.filter-bar { display:flex; flex-wrap:wrap; align-items:center; gap:8px; font-size:.85em; line-height:1.2; background:#f6f6f6; border:1px solid #ddd; padding:8px 10px; border-radius:6px; max-width:640px; }
.filter-bar .ban-label { font-weight:bold; color:#444; margin-right:4px; }
.ban-btn { cursor:pointer; background:#fff; border:1px solid #bbb; padding:4px 8px; border-radius:4px; font-size:.85em; display:inline-flex; align-items:center; gap:4px; user-select:none; transition:.15s background,.15s color,.15s border-color; }
.ban-btn:hover { background:#eef4ff; border-color:var(--primary-color); }
.ban-btn[data-active="true"] { background:var(--primary-color); color:#fff; border-color:var(--primary-color); }
.ban-btn span.square { font-weight:700; width:1.1em; text-align:center; display:inline-block; }

/* Grid slots */
.deck-grid { display:grid; grid-template-columns:repeat(6,1fr); gap:20px; flex-grow:1; overflow-y:auto; padding:15px; }
.party-slot-wrapper { position:relative; }
.numbering-btn { position:absolute; top:-10px; left:-10px; width:32px; height:32px; background-color:#888; color:#fff; font-size:18px; border:2px solid #fff; border-radius:50%; cursor:pointer; display:flex; justify-content:center; align-items:center; font-weight:bold; z-index:10; box-shadow:0 0 5px rgba(0,0,0,.5); }
.numbering-btn.numbered { background-color:#e67e22; }
.party-slot { border:2px solid var(--border-color); border-radius:8px; background-color:#fafafa; display:flex; flex-direction:column; overflow:hidden; }
.personality-name { height:30px; background-color:#fff; border-bottom:1px dashed #e0c5a3; display:flex; align-items:center; justify-content:center; font-size:.9em; font-weight:bold; color:#555; padding:0 5px; box-sizing:border-box; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.character-slot { width:100%; aspect-ratio:1/1; background-color:#e0f0ff; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:3em; color:#aaa; background-size:cover; background-position:center; position:relative; }
.tier-icon { position:absolute; top:5px; right:5px; height:17%; width:auto; pointer-events:none; }
.ego-grid { display:flex; flex-direction:column; }
.ego-slot { position:relative; overflow:hidden; height:44px; background-size:cover; background-position:center; background-color:#fff; border-top:1px dashed #e0c5a3; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:.8em; font-weight:bold; color:#bfa88b; background-repeat:no-repeat; }
.ego-slot.has-ego { justify-content:flex-start !important; align-items:center !important; padding:0; }
.ego-slot-name { position:static !important; padding:4px 8px !important; margin:0; font-size:20px !important; font-weight:800; line-height:1; color:#fff; letter-spacing:.5px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%; text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000; pointer-events:none; user-select:none; box-sizing:border-box; }
.ego-slot:not(.has-ego) { background-size:auto 75% !important; }

/* Modal selection */
.modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,.6); display:none; justify-content:center; align-items:center; z-index:1000; }
.modal-content { background-color:#fff; padding:20px; border-radius:10px; width:80%; max-width:800px; max-height:80%; display:flex; flex-direction:column; }
#selection-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(100px,1fr)); gap:10px; overflow-y:auto; padding:10px; }
#selection-grid .item-wrapper { position:relative; }
.personality-select-image { width:100%; cursor:pointer; border-radius:5px; border:2px solid transparent; display:block; }
.deselect-button { cursor:pointer; border:2px dashed #ccc; border-radius:5px; display:flex; align-items:center; justify-content:center; background-color:#f0f0f0; color:#888; font-weight:bold; font-size:.9em; transition:background-color .2s,border-color .2s; min-height:100px; }
.deselect-button:hover { background-color:#e0e0e0; border-color:#aaa; }
.tier-icon-modal { position:absolute; top:4px; right:4px; height:17%; width:auto; pointer-events:none; }

/* Export/Import modal */
#io-modal-content h3 { margin-top:0; }
#io-modal-content textarea { width:100%; min-height:200px; margin:15px 0; font-family:monospace; resize:vertical; box-sizing:border-box; }
#io-modal-content .modal-actions { display:flex; justify-content:flex-end; gap:10px; flex-wrap:wrap; }
#io-modal-content button { background-color:var(--primary-color); color:#fff; border:none; padding:10px 15px; border-radius:5px; cursor:pointer; }
#io-modal-content button.secondary { background-color:#6c757d; }

/* Summaries */
.skill-summary, .defense-summary { display:flex; justify-content:center; align-items:center; padding:10px 0; border-top:2px solid var(--border-color); flex-shrink:0; }
.skill-summary { gap:30px; padding-top:20px; }
.defense-summary { padding-bottom:10px; border-top:none; gap:8px; min-height:60px; box-sizing:border-box; }
.skill-item { display:flex; align-items:center; gap:8px; }
.skill-item img, .defense-summary img { width:40px; height:40px; }
.skill-item span { font-size:1.8em; font-weight:bold; min-width:30px; text-align:left; }

/* Detail view core */
#detail-view { position:absolute; display:none; width:440px; background-color:#2c2c2c; color:#f0f0f0; border:1px solid #555; box-shadow:0 5px 15px rgba(0,0,0,.5); border-radius:8px; z-index:1100; padding:0; pointer-events:none; overflow:hidden; }
.detail-illustration-top { width:100%; height:250px; background-color:#1a1a1a; background-size:cover; background-position:center top; }
.detail-illustration-top.ego-image { height:200px; background-size:contain; background-repeat:no-repeat; background-position:center; }
.detail-info-bottom { padding:12px; font-size:.9em; line-height:1.5; display:flex; flex-direction:column; gap:12px; }
.detail-card-header { padding-bottom:8px; }
.detail-card-header h4 { margin:0; font-size:1.2em; border-bottom:1px solid #444; padding-bottom:8px; }
.detail-section h5 { margin:0 0 8px 0; font-size:1em; color:#e67e22; }
.passive-line { display:flex; align-items:flex-start; gap:8px; }
.passive-line > strong { flex-shrink:0; width:40px; color:#bbb; }
.passive-line > span { word-break:break-all; }
.condition-icon { width:1.4em; height:1.4em; margin-right:4px; object-fit:contain; vertical-align:middle; }
.detail-skills-grid { display:flex; justify-content:space-around; gap:10px; }
.skill-with-type .skill-icon { width:76px !important; height:76px !important; border-radius:50% !important; display:block; object-fit:cover; }
.skill-with-type .skill-type-badge { width:auto !important; height:22px !important; display:block; border-radius:0 !important; object-fit:contain; }
.detail-keywords-list { display:flex; flex-wrap:wrap; gap:6px; }
.detail-keywords-list span { background-color:#555; padding:3px 8px; border-radius:12px; font-size:.85em; }
.passive-group { margin-top:6px; font-size: 1.1em; line-height: 1.6;}
.passive-items { margin-top:6px; }
.passive-block.compact { margin:0; }
.skill-with-type { display:flex; flex-direction:column; align-items:center; gap:8px; min-width:70px; }

/* === Added separators between 조건 / 이름 / 효과 === */
.passive-group > .passive-line {
    border-bottom:1px solid rgba(230,126,34,.65); /* 주황 계열 강조색 */
    padding-bottom:6px;
    margin-bottom:8px;
    position:relative;

}

/* 이름-효과 사이(두 번째 줄) 구분선은 기존 어두운 톤 유지해 대비 확보 */
.passive-block.compact .passive-line + .passive-line {
    border-top:1px solid #444;
}
.passive-block.compact .passive-line {
    padding:4px 0;
    margin:0;
}
.passive-block.compact .passive-line + .passive-line {
    border-top:1px solid #444;
    margin-top:6px;
    padding-top:6px;
}
.ego-passive-box .passive-line {
    padding:4px 0;
    margin:0;
}
.ego-passive-box .passive-line + .passive-line {
    border-top:1px solid #444;
    margin-top:6px;
    padding-top:6px;
}
/* ================================================ */

#detail-view.ego-wide { width:1024px; max-width:calc(100vw - 40px); }

/* Personality detail refinements */
.detail-info-bottom.personality { gap:10px; }
.detail-info-bottom.personality .detail-section { background:#222; padding:8px 10px; border-radius:6px; margin:0; }
.detail-info-bottom.personality .detail-section > h5 { font-size:1em !important; margin:0 0 8px 0 !important; line-height:1.2; color:#e67e22; }
.detail-info-bottom.personality .detail-section hr { border:none; border-top:1px solid #333; margin:8px 0; }
.detail-info-bottom.personality .detail-card-header { padding-bottom:4px; margin-bottom:-2px; }
.detail-info-bottom.personality .detail-card-header h4 { font-size:1.4em; margin:0; border-bottom:1px solid #333; padding:4px 0 8px; letter-spacing:.5px; }
.detail-info-bottom.personality .passive-line { font-size:1em !important; line-height:1.6; }
.detail-info-bottom.personality .passive-line > strong { font-size:1em !important; font-weight:600; width:40px !important; letter-spacing:0; color:#bbb; }
.detail-info-bottom.personality .detail-keywords-list span { font-size:0.95em; !important; letter-spacing:0; padding:3px 8px; }

/* E.G.O wide layout */
.ego-stats-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
.ego-stat { background-color:#3a3a3a; padding:5px 8px; border-radius:4px; }
.ego-stat .label { color:#bbb; font-size:.8em; }
.ego-stat .value { font-weight:bold; font-size:1.1em; }
.ego-cost-list { display:flex; flex-wrap:wrap; align-items:center; gap:4px; }
.ego-cost-item { display:inline-flex; align-items:center; gap:4px; background-color:#222; padding:2px 6px; border-radius:4px; }
.ego-cost-item img { width:24px; height:24px; }

.detail-illustration-top.ego-image.square {
    aspect-ratio:unset !important;
    height:420px !important;
    background-size:auto 100% !important;
    background-position:center center !important;
    background-repeat:no-repeat !important;
    border-bottom:1px solid #333;
}

#detail-view .ego-name h4 {
  padding:0 !important;
  margin:0 0 4px 0 !important;
  line-height:1.1 !important;
  font-size:1.65em !important;
}

.ego-layout { display:flex; flex-wrap:wrap; gap:24px; align-items:flex-start; }
.ego-left { flex:0 0 300px; display:flex; flex-direction:column; gap:12px; }
.ego-right { flex:1; display:flex; gap:20px; flex-wrap:wrap; align-items:stretch; }
.ego-right.two { flex-wrap:nowrap; }
.ego-right.two .ego-version-block { flex:1 1 0; min-width:0; }

@media (max-width:1100px) {
    .ego-right.two { flex-wrap:wrap; }
    .ego-left { flex:1 1 100%; }
}
@media (max-width:1050px) {
    .ego-left { flex:1 1 100%; max-width:100%; }
    .ego-right.two .ego-version-block,
    .ego-right.one .ego-version-block { flex:1 1 100%; }
}

.ego-cost-box,
.ego-passive-box,
.ego-keywords-box { background:#222; padding:8px 10px; border-radius:6px; font-size:1.1em; line-height:1.6; }
.ego-cost-box h5,
.ego-passive-box h5,
.ego-keywords-box h5 { margin:0 0 6px 0; font-size:1em !important; line-height:1.25; color:#e67e22; }

.ego-keywords-pills { display:flex; flex-wrap:wrap; gap:6px; }
.ego-keywords-pills span { background:#444; padding:4px 10px; border-radius:14px; font-size:.95em !important; letter-spacing:0; }

.ego-version-block {
    margin-top:0 !important;
    background:#1f1f1f;
    border:1px solid #333;
    border-radius:8px;
    padding:14px 16px 18px;
    display:flex;
    flex-direction:column;
}
.ego-version-block > h5 {
    margin:0 0 12px 0;
    font-size:1em;
    color:#ffa540;
    display:flex;
    align-items:center;
    gap:6px;
}

.ego-version-meta {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
    gap:10px;
    margin-bottom:14px;
}
.meta-item {
    background:#2a2a2a;
    border-radius:6px;
    padding:8px 10px;
    display:flex;
    flex-direction:column;
    gap:4px;
}
.meta-item .label {
    font-size:1em !important;
    letter-spacing:.3px;
    color:#bbb;
    text-transform:uppercase;
}
.meta-item .value {
    font-weight:600;
    font-size:1em;
    display:flex;
    align-items:center;
    gap:4px;
    flex-wrap:wrap;
}
.meta-item .value img { height:24px; width:24px; object-fit:contain; }
.meta-item-coins { grid-column:1 / -1; }
.meta-item-coins .value.coin-seq { flex-wrap:wrap; gap:4px; }

.value.coin-seq img.coin-face-icon {
    width:22px;
    height:22px;
    object-fit:contain;
    filter:drop-shadow(0 0 2px rgba(0,0,0,.4));
}

.ego-coin-effects { display:flex; flex-direction:column; gap:8px; flex:1; }
.coin-effect-card {
    background:#262626;
    border:1px solid #2a2a2a;
    border-radius:8px;
    padding:6px 10px;
    display:flex;
    gap:6px;
    align-items:flex-start;
    font-size: 1.2em;
}
.coin-effect-left { min-width:0; width:26px; display:flex; flex-direction:column; align-items:center; gap:2px; }
.coin-index-icon { width:22px; height:22px; object-fit:contain; }
.coin-effect-left .coin-faces { display:none; }
.coin-effect-text { flex:1; font-size:.9em; line-height:1.6; white-space:pre-line; margin:0; }

/* 자동 스크롤 상세뷰 */
#detail-view.auto-scroll {
    overflow:hidden !important;
}
#detail-view .detail-scroll-wrapper {
    position:relative;
    will-change:transform;
    transition:none;
}
#detail-view.auto-scroll .detail-scroll-wrapper::-webkit-scrollbar {
    display:none;
}

/* Wide layout safe padding */
:root {
    --ego-left-width:300px;
    --ego-layout-gap:24px;
    --ego-block-gap:20px;
    --ego-version-block-width:340px;
    --ego-extra-right-two:0px;
    --ego-extra-right-one:0px;
    --ego-safe-pad-x:10px;
    --ego-safe-pad-bottom:10px;
}
#detail-view { box-sizing:border-box; overflow:hidden; padding:0; background-color:#2c2c2c; }
#detail-view.auto-scroll { overflow:hidden !important; }
#detail-view.ego-wide .detail-info-bottom.ego-wide-layout {
    padding-left:var(--ego-safe-pad-x);
    padding-right:var(--ego-safe-pad-x);
    padding-bottom:var(--ego-safe-pad-bottom);
    box-sizing:border-box;
}
#detail-view.ego-wide.two-version {
    width:calc(
        var(--ego-left-width) + var(--ego-layout-gap)
        + var(--ego-version-block-width)*2 + var(--ego-block-gap)
        + (var(--ego-safe-pad-x) * 2)
    );
}
#detail-view.ego-wide.one-version {
    width:calc(
        var(--ego-left-width) + var(--ego-layout-gap)
        + var(--ego-version-block-width)
        + (var(--ego-safe-pad-x) * 2)
    );
}
#detail-view.ego-wide .ego-layout {
    display:flex;
    flex-wrap:nowrap;
    gap:var(--ego-layout-gap);
    align-items:flex-start;
    box-sizing:border-box;
}
#detail-view.ego-wide .ego-left {
    flex:0 0 var(--ego-left-width);
    max-width:var(--ego-left-width);
    display:flex;
    flex-direction:column;
    gap:12px;
}
#detail-view.ego-wide.two-version .ego-right.two {
    display:flex;
    flex-wrap:nowrap;
    gap:var(--ego-block-gap);
    flex:0 0 calc(var(--ego-version-block-width)*2 + var(--ego-block-gap));
    max-width:calc(var(--ego-version-block-width)*2 + var(--ego-block-gap));
}
#detail-view.ego-wide.one-version .ego-right.one {
    display:flex;
    flex-wrap:nowrap;
    gap:0;
    flex:0 0 var(--ego-version-block-width);
    max-width:var(--ego-version-block-width);
}
#detail-view.ego-wide .ego-version-block {
    width:var(--ego-version-block-width);
    flex:0 0 var(--ego-version-block-width);
    max-width:var(--ego-version-block-width);
    box-sizing:border-box;
}
#detail-view .ego-right.two .ego-version-block,
#detail-view .ego-right.one .ego-version-block {
    flex:0 0 var(--ego-version-block-width) !important;
    min-width:var(--ego-version-block-width) !important;
}
#detail-view.ego-wide .ego-version-meta {
    display:grid;
    grid-template-columns:repeat(2, minmax(0,1fr));
    gap:10px;
    margin-bottom:14px;
}
#detail-view.ego-wide .ego-version-meta .meta-item-coins {
    grid-column:1 / -1;
}

/* 코인 효과: 인덱스 숨김 */
.coin-effect-card.no-index {
    padding-left:10px;
    display:flex;
}
.coin-effect-card.no-index .coin-effect-left { display:none; }

/* 캡쳐 전용 */
#deck-capture-wrapper {
    font-family:sans-serif;
}
#deck-capture-wrapper .capture-title {
    font-size:32px;
    font-weight:700;
    margin:0 0 20px 0;
    padding:0 5px;
    letter-spacing:.5px;
}
#deck-capture-wrapper .deck-grid {
    background:#fff;
    overflow:visible;
    height:auto;
}
/* 칼럼이 긴 텍스트 때문에 늘어나지 않도록 */
.deck-grid {
    display:grid;
    grid-template-columns:repeat(6, minmax(0,1fr));  /* 핵심 */
    gap:20px;
    flex-grow:1;
    overflow-y:auto;
    padding:15px;
}

/* 자식이 수축 가능하도록 */
.party-slot-wrapper,
.party-slot,
.personality-name {
    min-width:0;
}

/* 이름 영역: 한 줄 + 넘침 감지 (JS가 직접 잘라 넣음) */
.personality-name {
    height:30px;
    background:#fff;
    border-bottom:1px dashed #e0c5a3;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:.9em;
    font-weight:bold;
    padding:0 6px;
    box-sizing:border-box;
    white-space:nowrap;
    overflow:hidden;
    /* text-overflow:ellipsis;  // (JS가 '…' 직접 붙이므로 옵션) */
}
/* 개별 패시브(이름 앞/뒤) 사이 hr */
.detail-info-bottom.personality .passive-items hr {
    border:none !important;
    border-top:1px solid rgba(230,126,34,.55) !important;
    margin:10px 0 8px !important;
    position:relative;
    padding:0;
    height:0;
}

/* 패시브 묶음(조건이 다른 그룹) 사이 hr */
.detail-info-bottom.personality .detail-section > hr {
    border:none !important;
    border-top:1px solid rgba(230,126,34,.75) !important;
    margin:14px 0 12px !important;
    position:relative;
    height:0;
}
.ego-slot.has-ego {
    background-color:#000;
    /* 필요하면 약간의 부드러운 전환 */
    transition:background-color .15s;
}
/* 여러 조건 묶음 컨테이너 */
.multi-conds {
    display:flex;
    flex-wrap:wrap;
    align-items:center;
}

/* 기존 크기/색/폰트 유지. 간격만 */
.multi-conds .cond-chip {
    display:inline-flex;
    align-items:center;
}

/* 두 번째 이후 조건들만 왼쪽 여백 */
.multi-conds .cond-chip + .cond-chip {
    margin-left:14px;   /* 원하는 폭으로 조정 (예: 10~18px) */
}

/* ==== 요약(자원 + 수비 스킬) 접기/펼치기 개선 ==== */

/* ==== 요약 토글 버튼 표시 방식 변경 (JS 제어) ==== */
.summary-toggle {
    display:none;                  /* 기본은 숨김 */
    position:sticky;
    bottom:0;
    margin-left:auto;
    margin-top:6px;
    background:#f6f6f6;
    border:1px solid #ccc;
    color:#333;
    padding:4px 10px;
    border-radius:20px;
    font-size:.85em;
    cursor:pointer;
    align-items:center;
    gap:6px;
    line-height:1.2;
    z-index:30;
}
.summary-toggle.show {            /* JS가 붙이면 표시 */
    display:inline-flex;
}
.summary-toggle i { font-size:0.9em; }
.summary-toggle[aria-expanded="false"] { background:#e9e9e9; }
.summary-toggle:hover {
    background:#e2eefe;
    border-color:var(--primary-color);
}

/* 요약 wrapper (앞서 적용한 버전 유지) */
#summary-wrapper {
    border-top:2px solid var(--border-color);
}
#summary-wrapper .summary-inner {
    max-height:260px;
    overflow:hidden;
    transition:max-height .25s ease, opacity .25s ease;
    opacity:1;
    display:flex;
    flex-direction:column;
}
#summary-wrapper.collapsed .summary-inner {
    max-height:0;
    opacity:0;
}
.skill-summary { border-top:none; }

/* === Preload Overlay === */
#preload-overlay {
  position:fixed !important;
  inset:0 !important;          /* top:0; right:0; bottom:0; left:0 */
  width:100vw;
  height:100vh;
  z-index:99999;
  display:flex;
  justify-content:center;
  align-items:center;
  background:rgba(20,20,24,.9);
  pointer-events:all;
  /* 혹시 body가 flex라면 flex-item 특성 제거 */
  flex:0 0 auto;
}

#preload-overlay.hidden {
  display:none !important;
}

/* 내부 박스 기존 스타일 (필요 시 그대로 유지) */
#preload-overlay .preload-box {
  width:340px;
  background:#2f2f33;
  padding:28px 26px 24px;
  border-radius:14px;
  box-shadow:0 6px 24px rgba(0,0,0,.4);
  display:flex;
  flex-direction:column;
  gap:14px;
  box-sizing:border-box;
}
#preload-overlay h3 {
    margin:0 0 4px;
    font-size:1.15em;
    letter-spacing:.5px;
    text-align:center;
}
#preload-overlay .bar-outer {
    width:100%;
    height:16px;
    background:#444;
    border-radius:10px;
    overflow:hidden;
    border:1px solid #555;
}
#preload-overlay .bar-inner {
    height:100%;
    background:linear-gradient(90deg,#4facfe,#00f2fe);
    width:0%;
    transition:width .25s ease;
}
#preload-overlay .preload-stats {
    display:flex;
    justify-content:space-between;
    font-size:.85em;
    opacity:.9;
}
#preload-overlay #preload-skip-btn {
    background:#555;
    color:#fff;
    border:1px solid #666;
    padding:8px 0;
    font-size:.85em;
    border-radius:8px;
    cursor:pointer;
    transition:.15s background;
}
#preload-overlay #preload-skip-btn:hover {
    background:#666;
}
#preload-overlay #preload-skip-btn:active {
    transform:translateY(1px);
}